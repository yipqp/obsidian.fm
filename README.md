# Scrobble

A Spotify plugin for [Obsidian](https://obsidian.md/) to quickly log your thoughts on any song or album, inspired by [Last.fm](https://www.last.fm/) scrobbles.

> A **scrobble** in the music tracking service Last.fm is a record of a song you've listened to. In this plugin, scrobbling a song means logging your thoughts on a song in a dedicated note.

## Features

- Log your currently playing or recently played songs, or search from Spotify
- Automatically create and populate frontmatter of song or album notes
- Capture and timestamp your thoughts on any song
- Link related songs together with context logged on each

## Preview

https://github.com/user-attachments/assets/5edd56a3-eb8d-434d-a8fa-a17e1e9dcd25

## Installation

> [!IMPORTANT]
> This plugin does not require, but highly encourages, the use of the [Front Matter Title](https://github.com/snezhig/obsidian-front-matter-title) plugin. New song notes are named with a unique ID generated by Spotify to avoid file conflicts from songs with the same name, songs containing special characters, etc. Without Front Matter Title, filenames will appear as raw IDs. In the Front Matter Title settings, an example **Common main template** entry is `{{artists}} - {{name}}`.

### Community plugins

1. In settings, in the **Community plugins** tab, click **Browse**
2. Search for **Scrobble**, then click **Install**
3. Ensure **Scrobble** is enabled under **Installed plugins**

### BRAT

1. Install [BRAT](https://github.com/TfTHacker/obsidian42-brat) from the community plugins in Obsidian
2. Copy the GitHub repository link: https://github.com/yipqp/obsidian-scrobble
3. Open the command palette and run **BRAT: Plugins: Add a beta plugin for testing**
4. Paste in the GitHub link and click **Add plugin**
5. In settings, ensure **Scrobble** is enabled under the **Community plugins** tab

### Manual

1. On the GitHub repository, under **Releases**, download the three files under the latest release: **main.js**, **manifest.json**, and **styles.css**
2. Locate the directory of your Obsidian vault, then make a new directory under **.obsidian/plugins** and name it **obsidian-scrobble**
3. Move the three files you just downloaded into **obsidian-scrobble**

## Usage

1. Open the command palette and search for **Scrobble: Connect Spotify**
2. Log into Spotify and authorize access
3. Start using any commands in the command palette

## Settings

- **Connect Spotify**: connect your Spotify account
- **Folder path**: path of folder to store newly created notes
- **Create new note for each track when scrobbling albums**: when scrobbling albums, create a new note for each track in that album's tracklist if it hasn't been scrobbled yet, then include wikilinks for these song notes in the album note's `tracks` frontmatter. When disabled (default behavior), only include wikilinks for song notes that already exist in the vault, and use plain text for the unlogged song notes.
- **Wikilinks: Show artists**: include artists in wikilink display text when linking related tracks or albums in the Scrobble modal, e.g. `[[trackId|SZA - Good Days]]` vs `[[trackId|Good Days]]`

### New note frontmatter preferences

- **Type**: type of media, either `Track` or `Album`
- **Duration**: length of the track or album
- **Album release date**: release date of album (only relevant in album notes)
- **Tags**: optional tags to add to new notes, e.g. `add-to-playlist`
- **Aliases: Show artists**: include artists in the `aliases` property, e.g. `SZA - Good Days` vs `Good Days`

## Limitations

- No support for podcasts, audiobooks, or local files (albums)

## Credits

- [Spotify Web API SDK - TypeScript](https://github.com/spotify/spotify-web-api-ts-sdk) for `types.ts`
